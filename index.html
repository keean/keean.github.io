<!DOCTYPE html>
<!-- --------------------------------------------------------------------- -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
    <head>
        <link type="text/css" rel="stylesheet" href="style.css" />
        <title>Keean Schupke</title>
    </head>
    <body>
        <span class="header">
            <span class="title"><a href="https://keean.github.io">Keean Schupke</a></span>
            <span class="links">
                <a style="float:left;" href="https://github.com/keean">GitHub</a>
                <a style="float:right;" href="https://www.researchgate.net/profile/Keean_Schupke">ResearchGate</a>
                <a style="background-color:magenta;margin-left:auto;margin-right:auto;" href="https://uk.linkedin.com/in/keean">LinkedIn</a>
            </span>
            <!-- Programming languages, type systems, logic, AI. -->
        </span>
        <span width="100%"></span>
<!-- --------------------------------------------------------------------- -->
        <span class="post-block">
            <span class="post-title">Introduction</span>
            <p>
                The aim is to document my progress towards implementing a new
                programming language. The goals of the language are:
            </p>
            <ul>
                <li>To facilitate generic, and datatype generic programming.</li>
                <li>Low level code can directly manipulate bits and bytes.</li>
                <li>High level abstractions suitable for very large projects.</li>
                <li>You don't pay for what you don't use.</li>
                <li>To favour cheap reusable abstraction.</li>
            </ul>
            <p>
                The overall design is to allow low level imperative code, after
                being proved safe by the type system, to be treated as values, and
                manipulated by a higher level generic functional code. The type
                system is based on parametric polymorphism with the addition of a
                type-level logic language to express constraints on code.
            </p>
        </span>    
<!-- --------------------------------------------------------------------- -->
        <span class="post-block">
            <span class="post-title">Prolog Nanopass Compiler</span>
            <p>
                So here's my first attempt at solving the grammar extension problem.
                First define some primitive types:
            </p>
            <pre>
nat(zero).
nat(succ(X)) :-
    nat(X).

bool(true).
bool(false).

var(x).
var(y).</pre>
            <p>
                Define a language called "a":
            </p>
            <pre>
def(language_a, use_a).
grammar(L, var(X)) :-
    def(L, use_a),
    var(X).
grammar(L, nat(X)) :-
    def(L, use_a),
    nat(X).
grammar(L, bool(X)) :-
    def(L, use_a),
    bool(X).
grammar(L, pair(X, Y)) :-
    def(L, use_a),
    grammar(L, X),
    grammar(L, Y).
grammar(L, app(Fun, Arg)) :-
    def(L, use_a),
    grammar(L, Fun),
    grammar(L, Arg).
grammar(L, lam(Var, Body)) :-
    def(L, use_a),
    var(Var),
    grammar(L, Body).</pre>
            <p>
                Define a language called "b" that extends language "a":
            </p>
            <pre>
def(language_b, use_a).
def(language_b, use_b).
    grammar(L, let(Var, Body, Rhs)) :-
    def(L, use_b),
    var(Var),
    grammar(L, Body),
    grammar(L, Rhs).</pre>
            <p>
                Is expression is valid in language "a":
            </p>
            <pre>
:- grammar(language_a, lam(x, let(y, var(x), var(y)))).

NP.</pre>
            <p>
                Not accepted in language "a". Try "b":
            </p>
            <pre>
:- grammar(language_b, lam(x, let(y, var(x), var(y)))).

yes.</pre>
            <p>
                It is accepted in language "b". I think this is quite light
                on boilerplate, and it would allow compact formal definitions
                of intermediate languages.
            </p>
        </span>    
<!-- --------------------------------------------------------------------- -->
    </body>
</html>

